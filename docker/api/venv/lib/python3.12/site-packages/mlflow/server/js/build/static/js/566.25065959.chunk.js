"use strict";(self.webpackChunk_mlflow_mlflow=self.webpackChunk_mlflow_mlflow||[]).push([[566],{10405:function(e,t,s){s.d(t,{i:function(){return c}});var a=s(89555),i=(s(31014),s(1645)),n=s(88464),o=s(27705),l=s(98883),r=s(50111);var d={name:"1k6747e",styles:"font-size:20px!important"};function c(e){const{title:t,forceOpen:s,showServerError:c,defaultCollapsed:h,onChange:p}=e,u=s&&{activeKey:["1"]},g=h?null:["1"],{formatMessage:f}=(0,n.A)(),{theme:v}=(0,l.a)();return(0,r.Y)(i.A,{className:"collapsible-section",css:m.wrapper,bordered:!1,...u,defaultActiveKey:g,expandIcon:e=>{let{isActive:s}=e;return(0,r.Y)(l.m,{"aria-label":f(s?{id:"iaomsd",defaultMessage:"collapse {title}"}:{id:"dTLq6E",defaultMessage:"expand {title}"},{title:t}),css:d,rotate:s?90:0})},onChange:p,children:(0,r.Y)(i.A.Panel,{className:"collapsible-panel",header:t,css:(0,a.AH)({"&, .ant-collapse-header, .ant-collapse-content":(0,l.q)({color:v.colors.textPrimary})},""),children:(0,r.Y)(o.g,{showServerError:c,children:e.children})},"1")})}const m={wrapper:{".collapsible-panel":{position:"relative"},'& > .collapsible-panel > [role="button"]:focus':{outline:"revert"}}};c.defaultProps={forceOpen:!1}},90925:function(e,t,s){s.d(t,{K:function(){return n}});var a=s(98883),i=(s(31014),s(50111));const n=e=>{let{children:t,columns:s}=e;const a=s?l.descriptionsArea(s):l.autoFitArea;return(0,i.Y)("div",{css:a,children:t})};var o={name:"1bmnxg7",styles:"white-space:nowrap"};n.Item=e=>{let{label:t,labelSize:s="sm",children:n,span:r}=e;return(0,i.FD)("div",{"data-test-id":"descriptions-item",css:l.descriptionItem(r||1),children:[(0,i.Y)("div",{"data-test-id":"descriptions-item-label",css:o,children:(0,i.Y)(a.p.Text,{size:s,color:"secondary",children:t})}),(0,i.Y)("div",{"data-test-id":"descriptions-item-colon",css:l.colon,children:(0,i.Y)(a.p.Text,{size:s,color:"secondary",children:":"})}),(0,i.Y)("div",{"data-test-id":"descriptions-item-content",children:n})]})};const l={descriptionsArea:e=>t=>({display:"grid",gridTemplateColumns:`repeat(${e}, minmax(100px, 1fr))`,columnGap:t.spacing.sm,rowGap:t.spacing.md,marginBottom:t.spacing.lg}),autoFitArea:e=>({display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gridGap:e.spacing.md}),descriptionItem:e=>({display:"flex",gridColumn:`span ${e}`}),colon:{margin:"0 8px 0 0"}}},96034:function(e,t,s){s.d(t,{V:function(){return v}});var a=s(89555),i=s(31014),n=s(98883),o=s(38812),l=s(93215);const r=e=>{let{when:t,message:s}=e;const a=i.useContext(l.jb).navigator.block;return i.useEffect((()=>{if(!t)return;return null===a||void 0===a?void 0:a((()=>window.confirm(s)))}),[s,a,t]),null};var d=s(75703),c=s(11473),m=s(88443),h=s(64912),p=s(50111);class u extends i.Component{constructor(){super(...arguments),this.state={markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab,error:null},this.converter=(0,c.OT)(),this.handleMdeValueChange=e=>{this.setState({markdown:e})},this.handleTabChange=e=>{this.setState({selectedTab:e})},this.handleSubmitClick=()=>{const{onSubmit:e}=this.props,{markdown:t}=this.state;return this.setState({confirmLoading:!0}),e?Promise.resolve(e(t)).then((()=>{this.setState({confirmLoading:!1,error:null})})).catch((e=>{this.setState({confirmLoading:!1,error:e&&e.getMessageField?e.getMessageField():this.props.intl.formatMessage({id:"SzvvXl",defaultMessage:"Failed to submit"})})})):null},this.handleCancelClick=()=>{this.setState({markdown:this.props.defaultMarkdown,selectedTab:this.props.defaultSelectedTab});const{onCancel:e}=this.props;e&&e()}}contentHasChanged(){return this.state.markdown!==this.props.defaultMarkdown}renderActions(){const{confirmLoading:e}=this.state;return(0,p.Y)("div",{className:"editable-note-actions",children:(0,p.FD)("div",{children:[(0,p.Y)(n.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_114",type:"primary",className:"editable-note-save-button",onClick:this.handleSubmitClick,disabled:!this.contentHasChanged()||e,loading:e,"data-testid":"editable-note-save-button",children:this.props.saveText}),(0,p.Y)(n.B,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_124",htmlType:"button",className:"editable-note-cancel-button",onClick:this.handleCancelClick,disabled:e,children:(0,p.Y)(m.A,{id:"17k196",defaultMessage:"Cancel"})})]})})}getSanitizedHtmlContent(){const{markdown:e}=this.state;if(e){const t=(0,c.NW)(this.converter.makeHtml(e));return(0,c.Yc)(t)}return null}render(){const{showEditor:e}=this.props,{markdown:t,selectedTab:s,error:a}=this.state,n=this.getSanitizedHtmlContent();return(0,p.Y)("div",{className:"note-view-outer-container",children:e?(0,p.FD)(i.Fragment,{children:[(0,p.Y)("div",{className:"note-view-text-area",children:(0,p.Y)(d.default,{value:t,minEditorHeight:this.props.minEditorHeight,maxEditorHeight:this.props.maxEditorHeight,minPreviewHeight:50,childProps:this.props.childProps,toolbarCommands:this.props.toolbarCommands,onChange:this.handleMdeValueChange,selectedTab:s,onTabChange:this.handleTabChange,generateMarkdownPreview:e=>Promise.resolve(this.getSanitizedHtmlContent(e)),getIcon:e=>(0,p.Y)(g,{name:e})})}),a&&(0,p.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_common_components_editablenote.tsx_178",type:"error",message:this.props.intl.formatMessage({id:"79dD5F",defaultMessage:"There was an error submitting your note."}),description:a,closable:!0}),this.renderActions(),(0,p.Y)(r,{when:this.contentHasChanged(),message:this.props.intl.formatMessage({id:"dwTTNK",defaultMessage:"Are you sure you want to navigate away? Your pending text changes will be lost."})})]}):(0,p.Y)(f,{content:n})})}}function g(e){const{theme:t}=(0,n.a)(),{name:s}=e;return(0,p.Y)(o.paO,{position:"top",title:s,children:(0,p.Y)("span",{css:(0,a.AH)({color:t.colors.textPrimary},""),children:(0,p.Y)(d.SvgIcon,{icon:s})})})}function f(e){const{content:t}=e;return t?(0,p.Y)("div",{className:"note-view-outer-container",children:(0,p.Y)("div",{className:"note-view-text-area",children:(0,p.Y)("div",{className:"note-view-preview note-editor-preview",children:(0,p.Y)("div",{className:"note-editor-preview-content","data-testid":"note-editor-preview-content",dangerouslySetInnerHTML:{__html:e.content}})})})}):(0,p.Y)("div",{children:(0,p.Y)(m.A,{id:"PRe/8y",defaultMessage:"None"})})}u.defaultProps={defaultMarkdown:"",defaultSelectedTab:"write",showEditor:!1,saveText:(0,p.Y)(m.A,{id:"Shv28w",defaultMessage:"Save"}),confirmLoading:!1,toolbarCommands:[["header","bold","italic","strikethrough"],["link","quote","code","image"],["unordered-list","ordered-list","checked-list"]],maxEditorHeight:500,minEditorHeight:200,childProps:{}};const v=(0,h.Ay)(u)},41287:function(e,t,s){s.d(t,{A:function(){return y}});var a=s(31014),i=s(76010),n=s(89639),o=s(38812),l=s(64596),r=s(98883),d=s(88443),c=s(50111);const m=a.createContext();class h extends a.Component{constructor(){super(...arguments),this.handleKeyPress=e=>{const{save:t,recordKey:s,cancel:a}=this.props;"Enter"===e.key?t(s):"Escape"===e.key&&a()}}render(){const{editing:e,dataIndex:t,record:s,children:a}=this.props;return(0,c.Y)(m.Consumer,{children:i=>{let{formRef:n}=i;return(0,c.Y)("div",{className:e?"editing-cell":"",children:e?(0,c.Y)(o.lVW,{ref:n,children:(0,c.Y)(o.lVW.Item,{style:{margin:0},name:t,initialValue:s[t],children:(0,c.Y)(l.I,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_50",onKeyDown:this.handleKeyPress,"data-testid":"editable-table-edited-input"})})}):a})}})}}class p extends a.Component{constructor(e){super(e),this.columns=void 0,this.form=void 0,this.initColumns=()=>[...this.props.columns.map((e=>e.editable?{...e,render:(t,s)=>(0,c.Y)(h,{record:s,dataIndex:e.dataIndex,title:e.title,editing:this.isEditing(s),save:this.save,cancel:this.cancel,recordKey:s.key,children:t})}:e)),{title:(0,c.Y)(d.A,{id:"cBDYla",defaultMessage:"Actions"}),dataIndex:"operation",render:(e,t)=>{const{editingKey:s,isRequestPending:a}=this.state,i=this.isEditing(t);return i&&a?(0,c.Y)(r.S,{size:"small"}):i?(0,c.FD)("span",{children:[(0,c.Y)(r.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_120",type:"link",onClick:()=>this.save(t.key),style:{marginRight:10},"data-testid":"editable-table-button-save",children:(0,c.Y)(d.A,{id:"E7mv3b",defaultMessage:"Save"})}),(0,c.Y)(r.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_131",type:"link",onClick:()=>this.cancel(t.key),"data-testid":"editable-table-button-cancel",children:(0,c.Y)(d.A,{id:"peyOdH",defaultMessage:"Cancel"})})]}):(0,c.FD)("span",{children:[(0,c.Y)(r.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_145",icon:(0,c.Y)(o.R2l,{}),disabled:""!==s,onClick:()=>this.edit(t.key),"data-testid":"editable-table-button-edit"}),(0,c.Y)(r.B,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_151",icon:(0,c.Y)(o.ucK,{}),disabled:""!==s,onClick:()=>this.setState({deletingKey:t.key}),"data-testid":"editable-table-button-delete"})]})}}],this.isEditing=e=>e.key===this.state.editingKey,this.cancel=()=>{this.setState({editingKey:""})},this.save=e=>{this.form.current.validateFields().then((t=>{const s=this.props.data.find((t=>t.key===e));s&&(this.setState({isRequestPending:!0}),this.props.onSaveEdit({...s,...t}).then((()=>{this.setState({editingKey:"",isRequestPending:!1})})))}))},this.delete=async e=>{try{const t=this.props.data.find((t=>t.key===e));t&&(this.setState({isRequestPending:!0}),await this.props.onDelete({...t}))}finally{this.setState({deletingKey:"",isRequestPending:!1})}},this.edit=e=>{this.setState({editingKey:e})},this.state={editingKey:"",isRequestPending:!1,deletingKey:""},this.columns=this.initColumns(),this.form=a.createRef()}render(){const{data:e}=this.props;return(0,c.FD)(m.Provider,{value:{formRef:this.form},children:[(0,c.Y)(o.qXK,{className:"editable-table","data-testid":"editable-table",dataSource:e,columns:this.columns,size:"middle",tableLayout:"fixed",pagination:!1,locale:{emptyText:(0,c.Y)(d.A,{id:"0ja5l/",defaultMessage:"No tags found."})},scroll:{y:280}}),(0,c.Y)(n.M,{componentId:"codegen_mlflow_app_src_common_components_tables_editableformtable.tsx_228","data-testid":"editable-form-table-remove-modal",title:(0,c.Y)(d.A,{id:"pBUaAK",defaultMessage:"Are you sure you want to delete this tag\uff1f"}),visible:this.state.deletingKey,okText:(0,c.Y)(d.A,{id:"vlxeiA",defaultMessage:"Confirm"}),cancelText:(0,c.Y)(d.A,{id:"aIP7Kb",defaultMessage:"Cancel"}),confirmLoading:this.state.isRequestPending,onOk:()=>this.delete(this.state.deletingKey),onCancel:()=>this.setState({deletingKey:""})})]})}}const u=p;var g=s(9133),f=s.n(g),v=s(64912);class _ extends a.Component{constructor(){super(...arguments),this.tableColumns=[{title:this.props.intl.formatMessage({id:"cI+F/q",defaultMessage:"Name"}),dataIndex:"name",width:200},{title:this.props.intl.formatMessage({id:"oBKd1E",defaultMessage:"Value"}),dataIndex:"value",width:200,editable:!0}],this.getData=()=>f().sortBy(i.A.getVisibleTagValues(this.props.tags).map((e=>({key:e[0],name:e[0],value:e[1]}))),"name"),this.getTagNamesAsSet=()=>new Set(i.A.getVisibleTagValues(this.props.tags).map((e=>e[0]))),this.tagNameValidator=(e,t,s)=>{s(this.getTagNamesAsSet().has(t)?this.props.intl.formatMessage({id:"gVxisd",defaultMessage:'Tag "{value}" already exists.'},{value:t}):void 0)}}render(){const{isRequestPending:e,handleSaveEdit:t,handleDeleteTag:s,handleAddTag:a,innerRef:i}=this.props;return(0,c.FD)(c.FK,{children:[(0,c.Y)(u,{columns:this.tableColumns,data:this.getData(),onSaveEdit:t,onDelete:s}),(0,c.Y)(n.S,{size:"sm"}),(0,c.Y)("div",{children:(0,c.FD)(o.lVW,{ref:i,layout:"inline",onFinish:a,css:b.form,children:[(0,c.Y)(o.lVW.Item,{name:"name",rules:[{required:!0,message:this.props.intl.formatMessage({id:"ubGTUL",defaultMessage:"Name is required."})},{validator:this.tagNameValidator}],children:(0,c.Y)(l.I,{componentId:"codegen_mlflow_app_src_common_components_editabletagstableview.tsx_107","aria-label":"tag name","data-testid":"tags-form-input-name",placeholder:this.props.intl.formatMessage({id:"0gGMZm",defaultMessage:"Name"})})}),(0,c.Y)(o.lVW.Item,{name:"value",rules:[],children:(0,c.Y)(l.I,{componentId:"codegen_mlflow_app_src_common_components_editabletagstableview.tsx_117","aria-label":"tag value","data-testid":"tags-form-input-value",placeholder:this.props.intl.formatMessage({id:"8XbTnl",defaultMessage:"Value"})})}),(0,c.Y)(o.lVW.Item,{children:(0,c.Y)(r.B,{componentId:"codegen_mlflow_app_src_common_components_editabletagstableview.tsx_127",loading:e,htmlType:"submit","data-testid":"add-tag-button",children:(0,c.Y)(d.A,{id:"4idqpX",defaultMessage:"Add"})})})]})})]})}}const b={form:e=>({"& > div":{marginRight:e.spacing.sm}})},y=(0,v.Ay)(_)},30311:function(e,t,s){s.d(t,{o:function(){return w}});var a=s(89555),i=s(9133),n=s(31014),o=s(38812),l=s(98883),r=s(89639),d=s(64756),c=s(88464),m=s(88443),h=s(50111);var p={name:"1d3w5wq",styles:"width:100%"},u={name:"s079uh",styles:"margin-top:2px"},g={name:"82a6rk",styles:"flex:1"},f={name:"82a6rk",styles:"flex:1"};const v=e=>{let{renderKey:t,setDraftAliases:s,existingAliases:i,draftAliases:r,version:v,aliasToVersionMap:_,disabled:b}=e;const y=(0,c.A)(),[w,Y]=(0,n.useState)(!1),{theme:x}=(0,l.a)(),C=(0,n.useCallback)((e=>{s((t=>t.filter((t=>t!==e))))}),[s]),k=(0,n.useCallback)((e=>{const t=e.map((e=>e.replace(/[^\w-]/g,"").toLowerCase().substring(0,255))).filter((e=>e.length>0)),a=Array.from(new Set(t));s(a),Y(!1)}),[s]);return(0,h.FD)(o._vn,{disabled:b,filterOption:(e,t)=>null===t||void 0===t?void 0:t.value.toLowerCase().startsWith(e.toLowerCase()),placeholder:y.formatMessage({id:"bQZDSv",defaultMessage:"Enter aliases (champion, challenger, etc)"}),allowClear:!0,css:p,mode:"tags",onChange:k,dangerouslySetAntdProps:{dropdownMatchSelectWidth:!0,tagRender:e=>{let{value:t}=e;return(0,h.Y)(d.m,{compact:!0,css:u,closable:!0,onClose:()=>C(t.toString()),value:t.toString()})}},onDropdownVisibleChange:Y,open:w,value:r||[],children:[i.map((e=>(0,h.Y)(o._vn.Option,{value:e,"data-testid":"model-alias-option",children:(0,h.FD)("div",{css:(0,a.AH)({display:"flex",marginRight:x.spacing.xs},""),children:[(0,h.Y)("div",{css:g,children:e}),(0,h.Y)("div",{children:(0,h.Y)(m.A,{id:"4OcdLd",defaultMessage:"This version"})})]},e)},e))),Object.entries(_).filter((e=>{let[,t]=e;return t!==v})).map((e=>{let[t,s]=e;return(0,h.Y)(o._vn.Option,{value:t,"data-testid":"model-alias-option",children:(0,h.FD)("div",{css:(0,a.AH)({display:"flex",marginRight:x.spacing.xs},""),children:[(0,h.Y)("div",{css:f,children:t}),(0,h.Y)("div",{children:(0,h.Y)(m.A,{id:"Boj6Fm",defaultMessage:"Version {version}",values:{version:s}})})]},t)},t)}))]},JSON.stringify(t))};var _=s(10811),b=s(69708),y=s(81866);const w=e=>{let{model:t,onSuccess:s}=e;const[d,c]=(0,n.useState)(!1),[p]=o.lVW.useForm(),[u,g]=(0,n.useState)(""),{theme:f}=(0,l.a)(),[w,Y]=(0,n.useState)([]),[x,C]=(0,n.useState)([]),[k,A]=(0,n.useState)("0"),M=(0,_.wA)(),S=(0,n.useCallback)((e=>{var s;if(!t)return;const a=(null===(s=t.aliases)||void 0===s?void 0:s.filter((t=>{let{version:s}=t;return s===e})).map((e=>{let{alias:t}=e;return t})))||[];e&&(Y(a),C(a),A(e),c(!0))}),[t]),T=(0,n.useMemo)((()=>{if(null===t||void 0===t||!t.aliases)return[];const e=t.aliases.reduce(((e,t)=>{var s;return e.some((e=>{let{version:s}=e;return s===t.version}))?(null===(s=e.find((e=>{let{version:s}=e;return s===t.version})))||void 0===s||s.aliases.push(t.alias),e):[...e,{version:t.version,aliases:[t.alias]}]}),[]),s=e.filter((e=>{let{version:t}=e;return t!==k}));return x.map((e=>({alias:e,otherVersion:s.find((t=>{var s;return null===(s=t.aliases)||void 0===s?void 0:s.find((t=>t===e))}))}))).filter((e=>{let{otherVersion:t}=e;return t}))}),[null===t||void 0===t?void 0:t.aliases,x,k]),I=(0,n.useMemo)((()=>{var e;return(null===t||void 0===t||null===(e=t.aliases)||void 0===e?void 0:e.reduce(((e,t)=>{let{alias:s,version:a}=t;return{...e,[s]:a}}),{}))||{}}),[t]),V=(0,i.isEqual)(w.slice().sort(),x.slice().sort()),D=x.length>10,F=V||D;return{EditAliasesModal:(0,h.FD)(r.M,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_127",visible:d,footer:(0,h.FD)("div",{children:[(0,h.Y)(l.B,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_131",onClick:()=>c(!1),children:(0,h.Y)(m.A,{id:"97hGxL",defaultMessage:"Cancel"})}),(0,h.Y)(l.B,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_137",loading:!1,type:"primary",disabled:F,onClick:()=>{t&&(g(""),M((0,b.mq)(t.name,k,w,x)).then((()=>{c(!1),null===s||void 0===s||s()})).catch((e=>{const t=e.getMessageField()||e.getUserVisibleError().toString()||e.text;g(t)})))},children:(0,h.Y)(m.A,{id:"cruwL4",defaultMessage:"Save aliases"})})]}),destroyOnClose:!0,title:(0,h.Y)(m.A,{id:"4Jyn2b",defaultMessage:"Add/Edit alias for model version {version}",values:{version:k}}),onCancel:()=>c(!1),confirmLoading:!1,children:[(0,h.Y)(l.p.Paragraph,{children:(0,h.Y)(m.A,{id:"2DNVN4",defaultMessage:"Aliases allow you to assign a mutable, named reference to a particular model version. <link>Learn more</link>",values:{link:e=>(0,h.Y)("a",{href:y.Tm,rel:"noreferrer",target:"_blank",children:e})}})}),(0,h.FD)(o.lVW,{form:p,layout:"vertical",children:[(0,h.Y)(o.lVW.Item,{children:(0,h.Y)(v,{disabled:!1,renderKey:T,aliasToVersionMap:I,version:k,draftAliases:x,existingAliases:w,setDraftAliases:C})}),(0,h.FD)("div",{css:(0,a.AH)({display:"flex",flexDirection:"column",gap:f.spacing.xs},""),children:[D&&(0,h.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_192",role:"alert",message:(0,h.Y)(m.A,{id:"q/Z61H",defaultMessage:"You are exceeding a limit of {limit} aliases assigned to the single model version",values:{limit:10}}),type:"error",closable:!1}),T.map((e=>{let{alias:t,otherVersion:s}=e;return(0,h.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_206",role:"alert",message:(0,h.Y)(m.A,{id:"EBQwqu",defaultMessage:'The "{alias}" alias is also being used on version {otherVersion}. Adding it to this version will remove it from version {otherVersion}.',values:{otherVersion:null===s||void 0===s?void 0:s.version,alias:t}}),type:"info",closable:!1},t)})),u&&(0,h.Y)(o.FcD,{componentId:"codegen_mlflow_app_src_model-registry_hooks_useeditregisteredmodelaliasesmodal.tsx_220",role:"alert",message:u,type:"error",closable:!1})]})]})]}),showEditAliasesModal:S}}}}]);
//# sourceMappingURL=566.25065959.chunk.js.map